## 目录

1. 类变量和类方法

2. 理解mian方法语法 **static**
3. 代码块



---

### 类变量和类方法（区别于实例变量/方法）

#### 类变量(静态变量)：

是什么

 - 同类所有对象共享。可以用对象或类访问。
- 在类加载的时候就生成了

如何定义：

​	访问修饰符 static 数据类型 变量名

如何访问：

​	推荐使用：类名.类变量名

 注意：类变量访问也遵循访问权限

使用细节：

1. 类变量和实例变量区别。类变量是所有对象共享，而实例变量是每个对象独享。

   （实例变量=普通变量=非静态变量）

2. **类变量在类加载时就初始化了。即时你没有创建对象，只要类加载了，就可以使用类变量。**

#### 类方法(静态方法)

如何定义：

​	访问修饰符 static 返回类型 方法名(){ }

使用场景：

​	当希望不创建实例（即方法中不涉及任何和对象相关的成员），也可以调用某个方法时，把方法做成静态方法最合适。如：工具类utils、Math类的方法。

使用细节：

1. **类方法中不允许使用和对象有关的关键字，如this和super。普通方法可以。**（理解：由于静态方法不依赖于任何对象就可以进行访问，没有this）【注：this指向当前的对象(实例)】

2. **静态方法只能访问静态成员。普通方法，即可访问静态成员，也可以访问非静态成员。（理解：因为静态成员先加载，非静态成员还未诞生）** 

   【注意：static方法不可以被重写，不会报错，但不具有多态性质。即：Father father = new Son();调用方法时候，会调用父类。】



---

### 理解mian方法语法 **static**

```java
public static void main(String[] args){ }
```

该方法由虚拟机jvm调用

- public：jvm虚拟机调用的是类的mian方法，所以必须是public。不同类下，其他修饰符访问不了。

- static：虚拟机不用创建对象，直接用类调用即可。

- String[] arg：

  ​	在doc命令行，执行java Hello时，可添加参数。

  ​	在idea设置也可加参数。

  

---

### 代码块

基本语法：

​	[修饰符]{

​	};

注意：修饰符可选，仅限写static。最后分号可以写可不写。

理解：

​	1.相当于另一种形式的构造器（对构造器的补充机制），可以做初始化的操作。

​	2.场景：如果多个构造器中有重复的语句，可以抽取到初始化块中，提高代码的重用性。



**使用细节：**

1. - static代码块也叫静态代码块，作用就是对类进行初始化，它随着类的加载而执行，并且只会执行一次。
   - 普通代码块，每创建一个对象，就会执行一次。

> 类什么时候被加载：
>
> 1.创建该类对象实例时。new
>
> 2.创建子类对象实例时，父类会先被加载。
>
> 3.使用类的静态成员时（静态属性，静态方法）

2. 【重点难点】创建一个对象时，在一个类中调用的顺序是：

   - 调用静态代码块、静态属性初始化。（两者优先级一样，按定义顺序决定先后。初始化，不是指系统默认值。）
   - 调用普通代码块、普通属性初始化。（优先级一样，同上）
   - 调用构造方法
   - 

3. 构造器 的前面隐含了super( )和调用普通代码块。

   ```java
   //构造器
   public A(){
       //隐藏1.super();
       //隐藏2.调用普通代码块/属性初始化
       System.out.println("构造器");
   }
   ```

4. 创建一个对象时，在多个类中调用的顺序是：

   ​		1）先是类的加载

   - 父类的静态代码块/静态属性初始化

   - 子类的静态代码块/静态属性初始化

     2）再是对象创建

   - 父类的普通代码块/普通属性初始化

   - 父类的构造方法

   - 子类的普通代码块/普通属性初始化

   - 子类的构造方法

5. 静态代码块只能直接调用静态成员（静态属性和静态方法）。

   普通代码块可以调用任意成员。

   （和类方法一样，因为是先加载的，普通成员还未初始化无法调用。）



**【属性先是系统默认初始值，再是显示初始化】**

<img src="C:\Users\10275\AppData\Roaming\Typora\typora-user-images\image-20211030174037491.png" alt="image-20211030174037491" style="zoom:80%;" />









